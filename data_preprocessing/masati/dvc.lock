prepare_images:
  cmd: python refine_masati.py
  deps:
  - path: MASATI-v2/
    md5: 231b4357ae8e029ebcaafce1fe33d7d1.dir
    size: 1736795071
    nfiles: 5023
  - path: refine_masati.py
    md5: 0e760362fb3c1d22df57ddb6c87529e2
    size: 3249
  outs:
  - path: PNGImages
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: xml_annotations
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
get_yolo_labels:
  cmd: python convert_xml_to_yolotxt.py
  deps:
  - path: PNGImages/
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: convert_xml_to_yolotxt.py
    md5: 83c52cba3349ba653f0e0d6cd6f3b7dc
    size: 2131
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  outs:
  - path: yolo_annotations
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
split_dataset:
  cmd: python train_test_split.py
  deps:
  - path: PNGImages/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  - path: train_test_split.py
    md5: 09dcca353f85d750db2de47e2fa24455
    size: 3918
  params:
    params.yaml:
      split_dataset.annotations_dir: modified_xml_annotations
      split_dataset.trainpct: 0.75
  outs:
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: xml_annotations_test.txt
    md5: bb0c97ba7d1dc1d9a41f91f3b4a29fc6
    size: 49728
  - path: xml_annotations_train.txt
    md5: 12eea3094172e490a3ce03e08ae00dca
    size: 149184
get_json_labels:
  cmd: python convert_masatixml_to_json_labels.py
  deps:
  - path: convert_masatixml_to_json_labels.py
    md5: 3c621ccf70e4406e773c041957a29219
    size: 8046
  - path: xml_annotations_test.txt
    md5: bb0c97ba7d1dc1d9a41f91f3b4a29fc6
    size: 49728
  - path: xml_annotations_train.txt
    md5: 12eea3094172e490a3ce03e08ae00dca
    size: 149184
  params:
    params.yaml:
      get_json_labels.classes:
      - boat
      get_json_labels.is_masati: true
      get_json_labels.output_json_test: annotations_test.json
      get_json_labels.output_json_train: annotations_train.json
      get_json_labels.test_labels: xml_annotations_test.txt
      get_json_labels.train_labels: xml_annotations_train.txt
  outs:
  - path: coco_json_annotations/annotations_test.json
    md5: b8bbbd19f4dc3c09f3f6ec8b79ea638b
    size: 190435
  - path: coco_json_annotations/annotations_train.json
    md5: dad0c19c95ea9a4e3db5935730d9dec2
    size: 519596
modified_annotations:
  cmd: python remove_extra_classes.py
  deps:
  - path: remove_extra_classes.py
    md5: cb670759913ba50800fbfc24fb24fa1c
    size: 1117
  - path: xml_annotations
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
  outs:
  - path: modified_xml_annotations
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
get_yolo_train_test_split:
  cmd: python sort_yolo_images.py
  deps:
  - path: sort_yolo_images.py
    md5: 21a9ec352e3ee47054e35668cdcff2c2
    size: 2192
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: yolo_annotations
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
  outs:
  - path: yolo_images_train/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_images_validation/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_labels_train/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_labels_validation/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
modify_annotations:
  cmd: python remove_extra_classes.py
  deps:
  - path: remove_extra_classes.py
    md5: cb670759913ba50800fbfc24fb24fa1c
    size: 1117
  - path: xml_annotations/
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
  outs:
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
sort_yolo_file_structure:
  cmd: python sort_yolo_images.py
  deps:
  - path: sort_yolo_images.py
    md5: bf953d5abc43754cd463b2552a58c7a6
    size: 2198
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: yolo_annotations/
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
  outs:
  - path: yolo_images_train/
    md5: d25bfba8e40576a32daf62a277687702.dir
    size: 582037464
    nfiles: 1776
  - path: yolo_images_validation/
    md5: 5f2feb0828d041776f3aa4e978fa453d.dir
    size: 200427302
    nfiles: 592
  - path: yolo_labels_train/
    md5: 17a50cc52e585ee1d5e40808e3b570c0.dir
    size: 141356
    nfiles: 1776
  - path: yolo_labels_validation/
    md5: 5f036208864b52f04f63ad0bfa186220.dir
    size: 53381
    nfiles: 592
