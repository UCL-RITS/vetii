prepare_images:
  cmd: python refine_masati.py
  deps:
  - path: MASATI-v2/
    md5: 231b4357ae8e029ebcaafce1fe33d7d1.dir
    size: 1736795071
    nfiles: 5023
  - path: refine_masati.py
    md5: 0e760362fb3c1d22df57ddb6c87529e2
    size: 3249
  outs:
  - path: PNGImages
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: xml_annotations
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
modify_annotations:
  cmd: python remove_extra_classes.py
  deps:
  - path: remove_extra_classes.py
    md5: 75a04c79ee3b514c752833398a350ce9
    size: 1084
  - path: xml_annotations/
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
  outs:
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
get_yolo_labels:
  cmd: python ../scripts/convert_xml_to_yolotxt.py
  deps:
  - path: ../scripts/convert_xml_to_yolotxt.py
    md5: 72e3de61aedb3398e5f41eee094cbc8b
    size: 2401
  - path: PNGImages/
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  params:
    params.yaml:
      get_yolo_labels.annotations_dir: modified_xml_annotations
      get_yolo_labels.is_masati: true
  outs:
  - path: yolo_annotations
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
split_dataset:
  cmd: python ../scripts/train_test_split.py
  deps:
  - path: ../scripts/train_test_split.py
    md5: 2865fe56c6760a030a7bf4b5ad585048
    size: 3994
  - path: PNGImages/
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  params:
    params.yaml:
      split_dataset.annotations_dir: modified_xml_annotations
      split_dataset.trainpct: 0.75
  outs:
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: xml_annotations_test.txt
    md5: bb0c97ba7d1dc1d9a41f91f3b4a29fc6
    size: 49728
  - path: xml_annotations_train.txt
    md5: 12eea3094172e490a3ce03e08ae00dca
    size: 149184
get_json_labels:
  cmd: python convert_masatixml_to_json_labels.py
  deps:
  - path: convert_masatixml_to_json_labels.py
    md5: 3c621ccf70e4406e773c041957a29219
    size: 8046
  - path: xml_annotations_test.txt
    md5: bb0c97ba7d1dc1d9a41f91f3b4a29fc6
    size: 49728
  - path: xml_annotations_train.txt
    md5: 12eea3094172e490a3ce03e08ae00dca
    size: 149184
  params:
    params.yaml:
      get_json_labels.classes:
      - boat
      get_json_labels.is_masati: true
      get_json_labels.output_json_test: annotations_test.json
      get_json_labels.output_json_train: annotations_train.json
      get_json_labels.test_labels: xml_annotations_test.txt
      get_json_labels.train_labels: xml_annotations_train.txt
  outs:
  - path: coco_json_annotations/annotations_test.json
    md5: b8bbbd19f4dc3c09f3f6ec8b79ea638b
    size: 190435
  - path: coco_json_annotations/annotations_train.json
    md5: dad0c19c95ea9a4e3db5935730d9dec2
    size: 519596
sort_yolo_file_structure:
  cmd: python ../scripts/sort_yolo_images.py
  deps:
  - path: ../scripts/sort_yolo_images.py
    md5: b575a451a4b220f584b883bb322bc313
    size: 2456
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: yolo_annotations/
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
  params:
    params.yaml:
      sort_yolo_images.imgformat: png
  outs:
  - path: yolo_images_train/
    md5: 2faa3d9df563b878ae8116b25fd83127.dir
    size: 582037464
    nfiles: 1776
  - path: yolo_images_validation/
    md5: d2a4423a080836da33ffe24df74a7e57.dir
    size: 200427302
    nfiles: 592
  - path: yolo_labels_train/
    md5: 17a50cc52e585ee1d5e40808e3b570c0.dir
    size: 141356
    nfiles: 1776
  - path: yolo_labels_validation/
    md5: 5f036208864b52f04f63ad0bfa186220.dir
    size: 53381
    nfiles: 592
prepare_yolov5_data_structure:
  cmd: python ../scripts/prepare_yolov5.py
  deps:
  - path: ../scripts/prepare_yolov5.py
    md5: 2b8d241900483e2c0ae862950566bb00
    size: 3345
  params:
    params.yaml:
      create_yolov5_filestructure.dataset: masati
      create_yolov5_filestructure.train_imgs: yolo_images_train
      create_yolov5_filestructure.train_labels: yolo_labels_train
      create_yolov5_filestructure.val_imgs: yolo_images_validation
      create_yolov5_filestructure.val_labels: yolo_labels_validation
  outs:
  - path: ../../data/masati/
    md5: 4b85e1d22552875726b20ceffc9bd114.dir
    size: 782659503
    nfiles: 4736
