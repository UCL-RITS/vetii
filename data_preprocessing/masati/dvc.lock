prepare_images:
  cmd: python refine_masati.py
  deps:
  - path: MASATI-v2/
    md5: 231b4357ae8e029ebcaafce1fe33d7d1.dir
    size: 1736795071
    nfiles: 5023
  - path: refine_masati.py
    md5: 0e760362fb3c1d22df57ddb6c87529e2
    size: 3249
  outs:
  - path: PNGImages
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: xml_annotations
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
get_yolo_labels:
  cmd: python convert_xml_to_yolotxt.py
  deps:
  - path: PNGImages/
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: convert_xml_to_yolotxt.py
    md5: 83c52cba3349ba653f0e0d6cd6f3b7dc
    size: 2131
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  outs:
  - path: yolo_annotations
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
split_dataset:
  cmd: python train_test_split.py
  deps:
  - path: PNGImages/
    md5: 910d4c06768d26bb051869e8e4fd81e4.dir
    size: 782464766
    nfiles: 2368
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
  - path: train_test_split.py
    md5: 1dcce327900f5cfc2e0a8911e401cf4a
    size: 3936
  params:
    params.yaml:
      split_dataset.annotations_dir: modified_xml_annotations
      split_dataset.trainpct: 0.75
  outs:
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: xml_annotations_test.txt
    md5: 6362b153e467cc2d19b43b0c6ff400b6
    size: 52688
  - path: xml_annotations_train.txt
    md5: f8b5265595f7fb48d9bd30c233b6243c
    size: 158064
get_json_labels:
  cmd: python convert_masatixml_to_json_labels.py
  deps:
  - path: convert_masatixml_to_json_labels.py
    md5: 3c621ccf70e4406e773c041957a29219
    size: 8046
  - path: xml_annotations_test.txt
    md5: 6362b153e467cc2d19b43b0c6ff400b6
    size: 52688
  - path: xml_annotations_train.txt
    md5: f8b5265595f7fb48d9bd30c233b6243c
    size: 158064
  params:
    params.yaml:
      get_json_labels.classes:
      - boat
      get_json_labels.is_masati: true
      get_json_labels.output_json_test: annotations_test.json
      get_json_labels.output_json_train: annotations_train.json
      get_json_labels.test_labels: xml_annotations_test.txt
      get_json_labels.train_labels: xml_annotations_train.txt
  outs:
  - path: coco_json_annotations/annotations_test.json
    md5: b8bbbd19f4dc3c09f3f6ec8b79ea638b
    size: 190435
  - path: coco_json_annotations/annotations_train.json
    md5: dad0c19c95ea9a4e3db5935730d9dec2
    size: 519596
modified_annotations:
  cmd: python remove_extra_classes.py
  deps:
  - path: remove_extra_classes.py
    md5: cb670759913ba50800fbfc24fb24fa1c
    size: 1117
  - path: xml_annotations
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
  outs:
  - path: modified_xml_annotations
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
get_yolo_train_test_split:
  cmd: python sort_yolo_images.py
  deps:
  - path: sort_yolo_images.py
    md5: 21a9ec352e3ee47054e35668cdcff2c2
    size: 2192
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: yolo_annotations
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
  outs:
  - path: yolo_images_train/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_images_validation/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_labels_train/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
  - path: yolo_labels_validation/
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
modify_annotations:
  cmd: python remove_extra_classes.py
  deps:
  - path: remove_extra_classes.py
    md5: 75a04c79ee3b514c752833398a350ce9
    size: 1084
  - path: xml_annotations/
    md5: a790e444d25e6235a30dad22ac30f2ea.dir
    size: 1692433
    nfiles: 2368
  outs:
  - path: modified_xml_annotations/
    md5: df0b6d762b6600e48ba2db98f72a1077.dir
    size: 1684474
    nfiles: 2368
sort_yolo_file_structure:
  cmd: python sort_yolo_images.py
  deps:
  - path: sort_yolo_images.py
    md5: 7157434b30ccbd2a96d246a663934891
    size: 2187
  - path: train/
    md5: 9eb747db5d547d4e564294ea3b28f7ce.dir
    size: 582037464
    nfiles: 1776
  - path: validation/
    md5: 4e461a23b3d262fa38284e0def67e372.dir
    size: 200427302
    nfiles: 592
  - path: yolo_annotations/
    md5: a6c1285f03ab9913484ce4d7c74a0ee0.dir
    size: 194737
    nfiles: 2368
  outs:
  - path: yolo_images_train/
    md5: d25bfba8e40576a32daf62a277687702.dir
    size: 582037464
    nfiles: 1776
  - path: yolo_images_validation/
    md5: 5f2feb0828d041776f3aa4e978fa453d.dir
    size: 200427302
    nfiles: 592
  - path: yolo_labels_train/
    md5: 17a50cc52e585ee1d5e40808e3b570c0.dir
    size: 141356
    nfiles: 1776
  - path: yolo_labels_validation/
    md5: 5f036208864b52f04f63ad0bfa186220.dir
    size: 53381
    nfiles: 592
prepare_yolov5_data_structure:
  cmd: python prepare_yolov5.py
  deps:
  - path: prepare_yolov5.py
    md5: 3582c7a2bf42c9dad56486126caa6410
    size: 3331
  params:
    params.yaml:
      create_yolov5_filestructure.dataset: masati
      create_yolov5_filestructure.train_imgs: yolo_images_train
      create_yolov5_filestructure.train_labels: yolo_labels_train
      create_yolov5_filestructure.val_imgs: yolo_images_validation
      create_yolov5_filestructure.val_labels: yolo_labels_validation
  outs:
  - path: ../../data/masati/
    md5: 24b0c81a170781011e35058f856ad032.dir
    size: 782659503
    nfiles: 4736
